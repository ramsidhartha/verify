<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validator Profile - Verifi</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/pages.css">
    <style>
        /* Specific styles for Validator Profile */
        .trust-score-large {
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
        }

        .score-components {
            display: flex;
            gap: 16px;
            margin-top: 12px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .score-component-item {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .domain-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-top: 8px;
        }

        .domain-fill {
            height: 100%;
            border-radius: var(--radius-full);
            transition: width 0.3s ease;
        }

        .metric-card {
            background: var(--bg-card);
            padding: 16px;
            border-radius: var(--radius-md);
            border: 1px solid var(--border-subtle);
            text-align: center;
        }

        .metric-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-tertiary);
            margin-bottom: 6px;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .history-group {
            margin-bottom: 32px;
        }

        .history-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .history-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            margin-bottom: 12px;
            background: var(--bg-card);
            transition: box-shadow 0.2s ease;
        }

        .history-item:hover {
            box-shadow: var(--shadow-sm);
        }

        .on-chain-card {
            background: #F8FAFC;
            /* Light slate */
            border: 1px solid var(--border-strong);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 32px;
        }

        .hash-display {
            font-family: monospace;
            background: rgba(0, 0, 0, 0.05);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .tier-badge {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            color: #f8fafc;
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container navbar-content">
            <a href="../index.html" class="navbar-logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
                <span class="logo-text">Verifi Protocol</span>
            </a>
            <div class="navbar-links">
                <a href="../index.html" class="nav-link">Overview</a>
                <a href="quests.html" class="nav-link">Task Marketplace</a>
                <a href="submit.html" class="nav-link">New Request</a>
                <a href="profile.html" class="nav-link active">Identity</a>
            </div>
            <div class="navbar-actions">
                <button class="btn btn-secondary btn-sm">Connect Wallet (Amoy)</button>
            </div>
        </div>
    </nav>

    <div class="page-container">
        <div class="container">

            <!-- Top Section: Identity & Trust -->
            <div class="alert-banner"
                style="background: #fffbeb; border: 1px solid #fcd34d; color: #92400e; padding: 12px; border-radius: var(--radius-md); margin-bottom: 24px; text-align: center; font-size: 0.9rem;">
                ‚ö†Ô∏è <strong>Protocol Rule:</strong> You cannot validate your own claims. Switching roles is automatic
                based on context.
            </div>

            <div class="profile-header">
                <div class="profile-main">
                    <div
                        style="width: 120px; height: 120px; background: #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; color: #64748b; border: 4px solid var(--bg-card); box-shadow: var(--shadow-md);">
                        VB
                    </div>
                    <div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <h1 class="profile-name" style="margin: 0; font-size: 2.25rem;">vitalik.eth</h1>
                            <span class="badge badge-purple" style="font-size: 0.8rem; padding: 4px 10px;">Core
                                Validator</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <span class="hash-display">0xd8dA...6045</span>
                            <span class="tier-badge">
                                <span>üõ°Ô∏è</span> Tier V ‚Äì Protocol Guardian
                            </span>
                        </div>
                    </div>
                </div>

                <div style="text-align: right;">
                    <div
                        style="font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary); margin-bottom: 4px;">
                        Verifi Index</div>
                    <div class="trust-score-large">98.4</div>
                    <div class="score-components">
                        <div class="score-component-item">
                            <span style="font-weight: 600; color: var(--text-primary);">99.2%</span>
                            <span>Accuracy</span>
                        </div>
                        <div class="score-component-item">
                            <span style="font-weight: 600; color: var(--text-primary);">
                                < 1%</span>
                                    <span>Dispute Rate</span>
                        </div>
                        <div class="score-component-item">
                            <span style="font-weight: 600; color: var(--text-primary);">98%</span>
                            <span>Consensus Match</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="profile-layout" style="display: grid; grid-template-columns: 2fr 1fr; gap: 32px;">

                <!-- Left Column: Expertise & History -->
                <div class="profile-left">

                    <!-- On-Chain Identity Anchor (Testnet) -->
                    <div class="on-chain-card">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <h3
                                style="font-size: 0.95rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary); margin: 0;">
                                On-Chain Identity Anchor (Testnet)
                            </h3>
                            <span class="badge badge-cyan" style="font-size: 0.75rem;">Testnet</span>
                        </div>

                        <div
                            style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 24px; align-items: center;">
                            <!-- Network -->
                            <div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 4px;">
                                    Network</div>
                                <div style="font-weight: 500; display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: #8247E5; border-radius: 50%;">
                                    </div>
                                    <span>Polygon Amoy Testnet</span>
                                </div>
                            </div>

                            <!-- SBT Status -->
                            <div style="position: relative;">
                                <div style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 4px;">
                                    Soulbound Token
                                </div>
                                <div
                                    style="font-weight: 500; color: var(--success); display: flex; align-items: center; gap: 6px;">
                                    Minted <span
                                        style="font-size: 0.85rem; color: var(--text-tertiary); font-weight: 400;">(ID
                                        #420)</span>
                                </div>
                            </div>

                            <!-- Block Height -->
                            <div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 4px;">Since
                                    Block</div>
                                <div style="font-family: monospace; font-size: 0.95rem;">5,430,101</div>
                            </div>

                            <!-- Explorer Link -->
                            <a href="https://amoy.polygonscan.com" target="_blank" class="btn btn-outline btn-sm"
                                style="text-decoration: none;">
                                View on Polygonscan ‚Üó
                            </a>
                        </div>
                    </div>

                    <!-- Activity Heatmap (New) -->
                    <div class="heatmap-container">
                        <div class="heatmap-header">
                            <div>
                                <h3 class="heatmap-title">Validator Activity</h3>
                                <div class="heatmap-subtitle">Consistency over the past 12 months</div>
                            </div>
                            <div style="text-align: right; font-size: 0.85rem; color: var(--text-secondary);">
                                <div><span style="font-weight: 600; color: var(--text-primary);">245</span> active days
                                </div>
                                <div><span style="font-weight: 600; color: var(--success);">42</span> day streak</div>
                            </div>
                        </div>

                        <!-- Heatmap Grid (Dynamically populated via JS) -->
                        <div class="heatmap-grid" id="activity-heatmap"></div>

                        <div class="heatmap-legend">
                            <span>Less</span>
                            <div class="legend-item level-0"></div>
                            <div class="legend-item level-1"></div>
                            <div class="legend-item level-2"></div>
                            <div class="legend-item level-3"></div>
                            <div class="legend-item level-4"></div>
                            <span>More</span>
                        </div>
                    </div>

                    <!-- Domain Expertise -->
                    <div class="card" style="margin-bottom: 32px;">
                        <h3 style="font-size: 1.1rem; margin-bottom: 24px;">Domain Expertise</h3>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px;">
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">
                                    <span style="font-weight: 600;">Protocol Security</span>
                                    <span class="badge badge-green">Expert</span>
                                </div>
                                <div class="domain-bar">
                                    <div class="domain-fill" style="width: 96%; background: var(--success);"></div>
                                </div>
                            </div>

                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">
                                    <span style="font-weight: 600; color: var(--text-secondary);">Zero-Knowledge
                                        Cryptography</span>
                                    <span class="badge badge-purple">Advanced</span>
                                </div>
                                <div class="domain-bar">
                                    <div class="domain-fill" style="width: 82%; background: var(--primary);"></div>
                                </div>
                            </div>

                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">
                                    <span style="font-weight: 600; color: var(--text-secondary);">Distributed
                                        Systems</span>
                                    <span class="badge badge-cyan">Intermediate</span>
                                </div>
                                <div class="domain-bar">
                                    <div class="domain-fill" style="width: 55%; background: var(--info);"></div>
                                </div>
                            </div>

                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">
                                    <span style="font-weight: 600;">EVM Optimization</span>
                                    <span class="badge badge-green">Expert</span>
                                </div>
                                <div class="domain-bar">
                                    <div class="domain-fill" style="width: 94%; background: var(--success);"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Verification History -->
                    <div class="card">
                        <h3 style="font-size: 1.1rem; margin-bottom: 24px;">Verification History</h3>

                        <!-- Security Group -->
                        <div class="history-group">
                            <div class="history-header">
                                <h4
                                    style="font-size: 0.95rem; margin: 0; color: var(--text-primary); text-transform: uppercase; letter-spacing: 0.05em;">
                                    Security Audits</h4>
                                <span style="font-size: 0.85rem; color: var(--text-tertiary);">42 Verifications</span>
                            </div>

                            <div class="history-item">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 4px; font-size: 1rem;">Cross-Chain
                                        Bridge Vulnerability Check</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary);">Bridge Protocol v3 ‚Ä¢
                                        ID: #V-8801</div>
                                    <div style="font-size: 0.75rem; color: var(--text-tertiary); margin-top: 4px;">ü§ñ
                                        AI-generated verification task</div>
                                </div>
                                <span class="badge badge-green">Verified</span>
                            </div>

                            <div class="history-item">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 4px; font-size: 1rem;">Reentrancy Guard
                                        Analysis</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary);">DEX Aggregator ‚Ä¢ ID:
                                        #V-8750</div>
                                    <div style="font-size: 0.75rem; color: var(--text-tertiary); margin-top: 4px;">ü§ñ
                                        AI-generated verification task</div>
                                </div>
                                <span class="badge badge-green">Verified</span>
                            </div>
                        </div>

                        <!-- Performance Group -->
                        <div class="history-group" style="margin-bottom: 0;">
                            <div class="history-header">
                                <h4
                                    style="font-size: 0.95rem; margin: 0; color: var(--text-primary); text-transform: uppercase; letter-spacing: 0.05em;">
                                    Performance Benchmarks</h4>
                                <span style="font-size: 0.85rem; color: var(--text-tertiary);">18 Verifications</span>
                            </div>

                            <div class="history-item">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 4px; font-size: 1rem;">L2 State
                                        Transition Latency</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary);">Optimism Fork ‚Ä¢ ID:
                                        #V-8620</div>
                                    <div style="font-size: 0.75rem; color: var(--text-tertiary); margin-top: 4px;">ü§ñ
                                        AI-generated verification task</div>
                                </div>
                                <span class="badge badge-green">Verified</span>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Right Column: Metrics & Credentials -->
                <div class="profile-right">

                    <!-- Reliability Metrics -->
                    <div style="margin-bottom: 24px;">
                        <h3 style="font-size: 1rem; margin-bottom: 16px;">Reliability Schema</h3>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                            <div class="metric-card">
                                <div class="metric-label">Completed</div>
                                <div class="metric-value">1,240</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Accuracy</div>
                                <div class="metric-value" style="color: var(--success);">99.2%</div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div class="metric-card">
                                <div class="metric-label">Disputed</div>
                                <div class="metric-value">3</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Match Rate</div>
                                <div class="metric-value">98%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Reputation Breakdown -->
                    <div class="card" style="margin-bottom: 24px;">
                        <h3 style="font-size: 1rem; margin-bottom: 16px;">Reputation Breakdown</h3>

                        <div
                            style="margin-bottom: 12px; display: flex; justify-content: space-between; font-size: 0.9rem;">
                            <span style="color: var(--text-secondary);">Security REP</span>
                            <span style="font-weight: 600;">8,450</span>
                        </div>
                        <div
                            style="margin-bottom: 12px; display: flex; justify-content: space-between; font-size: 0.9rem;">
                            <span style="color: var(--text-secondary);">ZKP / Crypto REP</span>
                            <span style="font-weight: 600;">3,200</span>
                        </div>
                        <div
                            style="margin-bottom: 12px; display: flex; justify-content: space-between; font-size: 0.9rem;">
                            <span style="color: var(--text-secondary);">Performance REP</span>
                            <span style="font-weight: 600;">1,100</span>
                        </div>
                        <div
                            style="border-top: 1px solid var(--border-subtle); margin-top: 12px; padding-top: 12px; display: flex; justify-content: space-between; font-size: 0.95rem;">
                            <span style="color: var(--text-primary); font-weight: 600;">Total Protocol REP</span>
                            <span style="font-weight: 700; color: var(--primary);">12,750</span>
                        </div>
                    </div>

                    <!-- Credentials -->
                    <div class="card">
                        <h3 style="font-size: 1rem; margin-bottom: 16px;">Credentials</h3>

                        <div
                            style="border: 1px solid var(--border-subtle); border-radius: var(--radius-md); padding: 12px; margin-bottom: 12px;">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                <span style="font-size: 1.2rem;">üõ°Ô∏è</span>
                                <span style="font-weight: 600; font-size: 0.9rem;">Security Specialist</span>
                            </div>
                            <p style="font-size: 0.8rem; color: var(--text-secondary); margin: 0; line-height: 1.4;">
                                >98% consensus match on 20+ security claims.
                            </p>
                        </div>

                        <div
                            style="border: 1px solid var(--border-subtle); border-radius: var(--radius-md); padding: 12px;">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                <span style="font-size: 1.2rem;">‚ö°</span>
                                <span style="font-weight: 600; font-size: 0.9rem;">Efficiency Expert</span>
                            </div>
                            <p style="font-size: 0.8rem; color: var(--text-secondary); margin: 0; line-height: 1.4;">
                                Top 5% reporter for benchmarks.
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>¬© 2024 Verifi Foundation.</p>
            </div>
        </div>
    </footer>

    <script>
        // Generate Activity Heatmap Data
        const heatmapContainer = document.getElementById('activity-heatmap');
        const weeks = 52;
        const daysPerWeek = 7;
        const totalDays = weeks * daysPerWeek;

        // Simulating activity (higher index = more recent = more green)
        for (let i = 0; i < totalDays; i++) {
            const dayCell = document.createElement('div');
            dayCell.classList.add('heatmap-cell');

            // Random activity level (weighted towards 0-2, but occasional streaks)
            let level = 0;
            const rand = Math.random();

            if (i > totalDays - 100) { // More activity recently
                if (rand > 0.3) level = Math.floor(Math.random() * 4) + 1;
            } else {
                if (rand > 0.6) level = Math.floor(Math.random() * 3) + 1;
            }

            dayCell.classList.add(`level-${level}`);

            // Tooltip simulation
            const date = new Date();
            date.setDate(date.getDate() - (totalDays - i));
            const dateStr = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
            dayCell.setAttribute('data-tooltip', `${dateStr}: ${level * 2} tasks`);

            heatmapContainer.appendChild(dayCell);
        }
    </script>
</body>

</html>